{% extends "core/core_base.html" %}


{% block core_content %}
    <div class='dns-title'>{{ network }}</div>

    {% block action_bar %}
        {% if network.get_edit_url %}
            <a class="btn btn-primary" href="{{ network.get_edit_url() }}">Edit</a>
        {% endif %}

        {% block mid_action_bar %}
        {% endblock %}

        {% if network.get_delete_url %}
            <a class="btn btn-danger" href="{{ network.get_delete_url() }}">Delete</a>
        {% endif %}
    {% endblock %}

    <br>
    <span>See <a href="/core/build/{{network.pk}}/">DHCP Build Output</a>.</span>

        <table class="table">
            <thead>
                {% for item, value in network.details() %}
                    <th>{{ item }}</th>
                {% endfor %}
                <th>Vlan</th>
                {% if network.site %}
                    <th>Site</th>
                {% endif %}
            </thead>

            <tbody>
                <tr>
                {% for item, value in network.details() %}
                    <td>{{ value }}</td>
                {% endfor %}
                {% if network.vlan %}
                    <td><a href='{{ network.vlan.absolute_url() }}'>{{ network.vlan }}</a></td>
                {% else %}
                    <td>None</td>
                {% endif %}
                {% if network.site %}
                    <td><a href='{{ network.site.absolute_url() }}'>{{ network.site }}</a></td>
                {% endif %}
                </tr>
            </tbody>
        </table>

        <table class="table">
            <thead>
                {% for attr in attrs %}
                    <th>{{ attr.key }}</th>
                {% endfor %}
            </thead>

            <tbody>
                <tr>
                {% for attr in attrs %}
                    <td>{{ attr.value }}</td>
                {% endfor %}
                </tr>
            </tbody>
        </table>

        <h3>Parent Networks</h3>
        {% from 'core/core_macros.html' import display_networks %}
        {{ display_networks(eldars) }}

        <h3>Sub Networks.</h3>
        {{ display_networks(sub_networks) }}


        <h3>Ranges</h3>
        <table class="table">
            <thead>
                    <th>Info</th>
            </thead>

            <tbody>
                <tr>
                {% for range in ranges %}
                <td>Start: <a href='{{range.get_absolute_url()}}'>{{ range.start_str }}</a> End: <a href='{{range.get_absolute_url()}}'>{{ range.end_str }}</a></td>
                {% endfor %}
                </tr>
            </tbody>
        </table>
{% endblock %}
